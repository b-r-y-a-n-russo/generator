<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Embedded Widget Snippet Generator</title>
    <link rel="stylesheet" href="styles.css" />
  </head>
  <style>
    @import url("https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap");

    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: "Inter", system-ui, -apple-system, BlinkMacSystemFont,
        "Segoe UI", "Roboto", "Oxygen", "Ubuntu", "Cantarell", sans-serif;
      min-height: 100vh;
      display: grid;
      grid-template-rows: auto 1fr;
      grid-template-columns: 1fr;
      font-weight: 400;
      line-height: 1.6;
      -webkit-font-smoothing: antialiased;
      -moz-osx-font-smoothing: grayscale;
    }

    .title-bar {
      background: linear-gradient(135deg, #2d3748, #4a5568);
      backdrop-filter: blur(10px);
      padding: 0.5rem 2.5rem;
      box-shadow: 0 4px 20px rgba(0, 0, 0, 0.2);
      border-bottom: 1px solid rgba(255, 255, 255, 0.1);
      max-height: 68px;
    }

    .title-bar h1 {
      color: white;
      font-size: 2rem;
      font-weight: 700;
      margin: 0;
      text-align: center;
      letter-spacing: -0.025em;
      text-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
    }

    .main-content {
      display: grid;
      grid-template-columns: 30% 1fr;
      height: calc(100vh - 68px);
    }

    .form-container,
    .results-container {
      overflow-y: auto;
      padding: 2.5rem;
      background: rgba(255, 255, 255, 0.95);
      backdrop-filter: blur(10px);
      box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
    }

    .form-container {
      border-right: 1px solid rgba(255, 255, 255, 0.3);
    }

    form {
      max-width: 400px;
    }

    h2 {
      color: #2d3748;
      margin-bottom: 1.5rem;
      font-weight: 600;
      font-size: 1.5rem;
      color: #4a5568;
      letter-spacing: -0.025em;
    }

    label {
      display: block;
      margin-bottom: 1.5rem;
      color: #4a5568;
      font-weight: 500;
      font-size: 0.95rem;
    }

    input[type="checkbox"] {
      margin-right: 0.75rem;
      transform: scale(1.2);
      accent-color: #667eea;
    }

    .select-wrapper {
      position: relative;
      margin-top: 0.5rem;
    }

    select {
      width: 100%;
      padding: 0.75rem 3rem 0.75rem 1rem;
      border: 2px solid #e2e8f0;
      border-radius: 12px;
      background: white;
      color: #4a5568;
      font-size: 0.95rem;
      font-weight: 500;
      transition: all 0.3s ease;
      appearance: none;
      -webkit-appearance: none;
      -moz-appearance: none;
      cursor: pointer;
      font-family: inherit;
    }

    .select-wrapper::after {
      content: "";
      position: absolute;
      top: 50%;
      right: 1rem;
      transform: translateY(-50%);
      width: 0;
      height: 0;
      border-left: 6px solid transparent;
      border-right: 6px solid transparent;
      border-top: 8px solid #667eea;
      pointer-events: none;
      transition: all 0.3s ease;
    }

    select:focus {
      outline: none;
      border-color: #667eea;
      box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
    }

    select:focus + .select-wrapper::after,
    .select-wrapper:hover::after {
      border-top-color: #5a67d8;
      transform: translateY(-50%) rotate(180deg);
    }

    textarea {
      width: 100%;
      height: 300px;
      padding: 1rem;
      border: 2px solid #e2e8f0;
      border-radius: 12px;
      background: #f7fafc;
      color: #2d3748;
      font-family: "JetBrains Mono", "Fira Code", "SF Mono", "Monaco", "Menlo",
        "Ubuntu Mono", "Consolas", monospace;
      font-size: 0.85rem;
      line-height: 1.6;
      resize: vertical;
      transition: all 0.3s ease;
      white-space: pre;
      overflow-x: auto;
      word-wrap: normal;
      font-weight: 400;
      -webkit-font-smoothing: auto;
      -moz-osx-font-smoothing: auto;
    }

    textarea:focus {
      outline: none;
      border-color: #667eea;
      box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
    }

    button {
      appearance: none;
      background: linear-gradient(135deg, #667eea, #764ba2);
      color: white;
      border: none;
      border-radius: 12px;
      padding: 0.875rem 1.5rem;
      font-size: 0.95rem;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.3s ease;
      box-shadow: 0 4px 15px rgba(102, 126, 234, 0.3);
      font-family: inherit;
      letter-spacing: -0.015em;
      position: relative;
      overflow: hidden;
    }

    button:hover {
      transform: translateY(-2px);
      box-shadow: 0 8px 25px rgba(102, 126, 234, 0.4);
      background: linear-gradient(135deg, #5a67d8, #6b46c1);
    }

    button:focus {
      outline: none;
      transform: translateY(-1px);
      box-shadow: 0 6px 20px rgba(102, 126, 234, 0.4),
        0 0 0 3px rgba(102, 126, 234, 0.2);
      background: linear-gradient(135deg, #5a67d8, #6b46c1);
    }

    button:active {
      transform: translateY(1px);
      box-shadow: 0 2px 10px rgba(102, 126, 234, 0.2);
      background: linear-gradient(135deg, #4c51bf, #553c9a);
      transition: all 0.1s ease;
    }

    button:focus:not(:active) {
      animation: focusPulse 2s infinite;
    }

    @keyframes focusPulse {
      0%,
      100% {
        box-shadow: 0 6px 20px rgba(102, 126, 234, 0.4),
          0 0 0 3px rgba(102, 126, 234, 0.2);
      }
      50% {
        box-shadow: 0 6px 20px rgba(102, 126, 234, 0.4),
          0 0 0 3px rgba(102, 126, 234, 0.4);
      }
    }

    button::after {
      content: "";
      position: absolute;
      top: 50%;
      left: 50%;
      width: 0;
      height: 0;
      border-radius: 50%;
      background: rgba(255, 255, 255, 0.3);
      transform: translate(-50%, -50%);
      transition: width 0.6s, height 0.6s;
    }

    button:active::after {
      width: 300px;
      height: 300px;
      transition: width 0.2s, height 0.2s;
    }

    button:disabled {
      background: #cbd5e0;
      color: #a0aec0;
      cursor: not-allowed;
      transform: none;
      box-shadow: none;
    }

    button:disabled:hover,
    button:disabled:focus,
    button:disabled:active {
      background: #cbd5e0;
      transform: none;
      box-shadow: none;
    }

    .ghost-button {
      background: transparent;
      color: #667eea;
      border: 2px solid #667eea;
      box-shadow: none;
    }

    .ghost-button:hover {
      background: #667eea;
      color: white;
      transform: translateY(-2px);
      box-shadow: 0 8px 25px rgba(102, 126, 234, 0.3);
      border-color: #667eea;
    }

    .ghost-button:focus {
      outline: none;
      transform: translateY(-1px);
      box-shadow: 0 6px 20px rgba(102, 126, 234, 0.2),
        0 0 0 3px rgba(102, 126, 234, 0.2);
      background: rgba(102, 126, 234, 0.1);
      border-color: #5a67d8;
    }

    .ghost-button:active {
      transform: translateY(1px);
      box-shadow: 0 2px 10px rgba(102, 126, 234, 0.2);
      background: #5a67d8;
      color: white;
      border-color: #5a67d8;
      transition: all 0.1s ease;
    }

    .ghost-button:focus:not(:active) {
      animation: ghostFocusPulse 2s infinite;
    }

    @keyframes ghostFocusPulse {
      0%,
      100% {
        box-shadow: 0 6px 20px rgba(102, 126, 234, 0.2),
          0 0 0 3px rgba(102, 126, 234, 0.2);
      }
      50% {
        box-shadow: 0 6px 20px rgba(102, 126, 234, 0.2),
          0 0 0 3px rgba(102, 126, 234, 0.4);
      }
    }

    .ghost-button::after {
      background: rgba(102, 126, 234, 0.2);
    }

    .link-button {
      background: none;
      border: none;
      color: #667eea;
      text-decoration: underline;
      cursor: pointer;
      font-size: 0.9rem;
      font-weight: 500;
      padding: 0;
      border-radius: 0;
      margin: 0;
      box-shadow: none;
      transition: color 0.2s ease;
    }

    .link-button:hover {
      color: #5a67d8;
      background: none;
      transform: none;
      box-shadow: none;
      text-decoration: underline;
    }

    .link-button:focus {
      outline: 2px solid rgba(102, 126, 234, 0.3);
      outline-offset: 2px;
      background: none;
      transform: none;
      box-shadow: none;
    }

    .link-button:active {
      color: #4c51bf;
      background: none;
      transform: none;
      box-shadow: none;
    }

    .button-row {
      display: flex;
      gap: 1rem;
      align-items: center;
      margin-top: 1rem;
    }

    @media (max-width: 768px) {
      .title-bar {
        padding: 1rem;
      }

      .title-bar h1 {
        font-size: 1.5rem;
      }

      .main-content {
        grid-template-columns: 1fr;
        height: calc(100vh - 60px);
      }

      .form-container,
      .results-container {
        padding: 1.5rem;
      }

      .form-container {
        border-right: none;
        border-bottom: 1px solid rgba(255, 255, 255, 0.3);
      }
    }
  </style>
  <body>
    <div class="title-bar">
      <h1>ðŸ”§ Embedded Widget Snippet Generator</h1>
    </div>
    <div class="main-content">
      <div class="form-container">
        <form id="recipeForm">
          <label>
            Product:
            <div class="select-wrapper">
              <select name="product">
                <option value="">Choose a product</option>
                <option value="all">All</option>
                <option value="workersCompensation">
                  Workers Compensation
                </option>
                <option value="generalLiability">General Liability</option>
              </select>
            </div>
          </label>
          <label>
            Trade Selector Variant:
            <div class="select-wrapper">
              <select name="tradeSelectorVariant">
                <option value="">Choose a trade selector variant</option>
                <option value="ai">AI</option>
                <option value="aiOverlay">AI Overlay</option>
              </select>
            </div>
          </label>
          <label>
            <input type="checkbox" name="displayAllQuestions" />
            Display All Questions
          </label>
          <label>
            <input type="checkbox" name="tradeSelectorEnhancements" />
            Display Trade Selector Enhancements
          </label>
          <label>
            <input type="checkbox" name="redirectInNewTab" />
            Redirect in New Tab
          </label>
          <label>
            <input type="checkbox" name="redirectTo" />
            RedirectTo
          </label>
          <button type="submit">âœ¨ Generate Snippet</button>
        </form>
      </div>
      <div class="results-container">
        <h2>ðŸ“‹ Generated Snippet</h2>
        <textarea
          id="output"
          readonly
          placeholder="Your generated widget configuration will appear here..."
        ></textarea>
        <div class="button-row">
          <button
            class="ghost-button"
            onclick="navigator.clipboard.writeText(document.getElementById('output').value)"
          >
            ðŸ“‹ Copy to Clipboard
          </button>
          <button class="link-button" onclick="resetApp()">Reset</button>
        </div>
      </div>
    </div>
    <script>
      const resetApp = () => {
        document.getElementById("recipeForm").reset();
        document.getElementById("output").value = "";
      };

      document.getElementById("recipeForm").onsubmit = (e) => {
        e.preventDefault();

        const form = e.target;
        const obj = {};

        if (form.displayAllQuestions.checked) obj.displayAllQuestions = true;
        if (form.product.value) obj.product = form.product.value;
        if (form.redirectInNewTab.checked) obj.redirectInNewTab = true;
        if (form.tradeSelectorEnhancements.checked)
          obj.tradeSelectorEnhancements = true;
        if (form.redirectTo.checked) obj.redirectTo = "pce";
        if (form.tradeSelectorVariant.value)
          obj.tradeSelectorVariant = form.tradeSelectorVariant.value;

        document.getElementById("output").value =
          '<div id="sb-cd" data-props="appProps">\n' +
          '  <div style="display: grid; place-items: center; height: 300px; border-radius: 24px; box-shadow: 0 12px 24px #00000040;">\n' +
          '    <img src="https://cd-embed.simplybusiness.com/loader.svg" alt="Loading..." />\n' +
          "  </div>\n" +
          "</div>\n" +
          "<script>\n  window.appProps = () => " +
          JSON.stringify(obj, null, 2)
            .split("\n")
            .map((line, index) => {
              if (index === 0) return line;
              return "  " + line;
            })
            .join("\n") +
          ";\n<\/script>" +
          '\n<script type="module" src="https://cd-embed.simplybusiness.com/loader.js"><\/script>';
      };
    </script>
  </body>
</html>

